function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{l8iX:function(t,e,n){"use strict";n.r(e),n.d(e,"RegistrationModule",(function(){return U}));var a=n("ofXK"),r=n("tyNb"),o=n("3Pt+"),i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"passwordMatchValidator",value:function(t){t.get("password").value!==t.get("confirmPassword").value&&t.get("confirmPassword").setErrors({NoPassswordMatch:!0})}},{key:"privacyPolicyCheckedValidator",value:function(t){return void 0!==t.value&&!1===t.value?{PrivacyPolicyNotAccepted:!0}:null}}]),t}(),c=n("fXoL"),s=n("RL7/"),m=n("dNgK"),d=n("Wp6s"),l=n("bTqV"),b=n("XiUz"),u=n("kmnG"),g=n("qFsG"),p=n("NFeN"),f=n("bSwM"),h=n("bv9b");function P(t,e){1&t&&(c.Ub(0,"mat-hint"),c.Ac(1,"Passwords don't match"),c.Tb())}function C(t,e){if(1&t){var n=c.Vb();c.Ub(0,"form",5),c.cc("ngSubmit",(function(){return c.sc(n),c.gc().register()})),c.Ub(1,"div",6),c.Ub(2,"div",7),c.Ub(3,"mat-form-field",8),c.Ub(4,"mat-label"),c.Ac(5,"First name"),c.Tb(),c.Pb(6,"input",9),c.Tb(),c.Tb(),c.Ub(7,"div",7),c.Ub(8,"mat-form-field",8),c.Ub(9,"mat-label"),c.Ac(10,"Last name"),c.Tb(),c.Pb(11,"input",10),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"mat-form-field",8),c.Ub(13,"mat-label"),c.Ac(14,"Email"),c.Tb(),c.Ub(15,"mat-icon",11),c.Ac(16,"mail"),c.Tb(),c.Pb(17,"input",12),c.Tb(),c.Ub(18,"mat-form-field",8),c.Ub(19,"mat-label"),c.Ac(20,"Password"),c.Tb(),c.Ub(21,"mat-icon",11),c.Ac(22,"lock"),c.Tb(),c.Pb(23,"input",13),c.Tb(),c.Ub(24,"mat-form-field",8),c.Ub(25,"mat-label"),c.Ac(26,"Repeat password"),c.Tb(),c.Ub(27,"mat-icon",11),c.Ac(28,"lock"),c.Tb(),c.Pb(29,"input",14),c.yc(30,P,2,0,"mat-hint",15),c.Tb(),c.Ub(31,"div",16),c.Ub(32,"mat-checkbox",17),c.Ac(33," Accept "),c.Ub(34,"a",18),c.Ac(35,"Privacy Policy"),c.Tb(),c.Tb(),c.Tb(),c.Ub(36,"button",19),c.Ac(37,"Sign up"),c.Tb(),c.Tb()}if(2&t){var a=c.gc();c.lc("formGroup",a.registrationForm),c.Cb(30),c.lc("ngIf",a.passwordMatch),c.Cb(6),c.lc("disabled",!a.registrationForm.valid)}}function y(t,e){1&t&&c.Pb(0,"mat-progress-bar",20)}var w,v,M,_=[{path:"",component:(w=function(){function t(e,n,a,r){_classCallCheck(this,t),this.formBuilder=e,this.authService=n,this.router=a,this.matSnackBar=r,this.hidePassword=!0,this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.registrationForm=this.createForm()}},{key:"createForm",value:function(){return this.registrationForm=this.formBuilder.group({firstName:["",o.n.compose([o.n.required,o.n.minLength(4)])],lastName:["",o.n.compose([o.n.required,o.n.minLength(4)])],email:["",o.n.compose([o.n.required,o.n.email])],password:["",o.n.compose([o.n.required,o.n.minLength(6)])],confirmPassword:["",o.n.compose([o.n.required,o.n.minLength(6)])],recaptchaResponse:["ToDo",o.n.compose([o.n.required])],acceptPrivacyPolicy:["",o.n.compose([o.n.required,i.privacyPolicyCheckedValidator])]},{validator:i.passwordMatchValidator})}},{key:"register",value:function(){var t=this;this.isLoading=!0;var e=Object.assign({},this.registrationForm.value);this.authService.register({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,recaptchaResponse:e.recaptchaResponse}).then((function(){t.authService.login({username:e.email,password:e.password}).then((function(){t.isLoading=!1,t.router.navigateByUrl("/home")})).catch((function(e){t.isLoading=!1,t.matSnackBar.open(e.message,"Close",{duration:1e4,horizontalPosition:"end",verticalPosition:"top"})}))})).catch((function(e){t.isLoading=!1,t.matSnackBar.open(e.message,"Close",{duration:1e4,horizontalPosition:"end",verticalPosition:"top"})}))}},{key:"passwordMatch",get:function(){if(this.registrationForm.get("confirmPassword").errors)return this.registrationForm.get("confirmPassword").errors.NoPassswordMatch}}]),t}(),w.\u0275fac=function(t){return new(t||w)(c.Ob(o.c),c.Ob(s.a),c.Ob(r.a),c.Ob(m.a))},w.\u0275cmp=c.Ib({type:w,selectors:[["app-registration"]],decls:17,vars:2,consts:[["id","registration-form"],["mat-card-image","","src","/assets/thingsboard-logo.svg","alt","Logo"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-raised-button","","routerLink","/login"],["color","primary","mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","10px"],["fxFlex","50%"],["appearance","outline"],["matInput","","formControlName","firstName","placeholder","Enter your first name","name","firstName","required",""],["matInput","","formControlName","lastName","placeholder","Enter your last name","name","lastName","required",""],["matPrefix",""],["matInput","","formControlName","email","placeholder","Enter your email","name","username","required",""],["matInput","","formControlName","password","placeholder","Create a password","type","password","name","password","required",""],["matInput","","formControlName","confirmPassword","placeholder","Repeat your password","type","password","name","password","required",""],[4,"ngIf"],[1,"mat-checkbox"],["formControlName","acceptPrivacyPolicy"],["routerLink","/privacy-policy"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(c.Ub(0,"section",0),c.Ub(1,"mat-card"),c.Ub(2,"mat-card-header"),c.Ub(3,"mat-card-title"),c.Pb(4,"img",1),c.Tb(),c.Ub(5,"mat-card-subtitle"),c.Ac(6," Create your personal account on the live demo server."),c.Pb(7,"br"),c.Ac(8," It is totally free! "),c.Tb(),c.Tb(),c.Ub(9,"mat-card-content"),c.yc(10,C,38,3,"form",2),c.Tb(),c.Ub(11,"mat-card-actions"),c.Ub(12,"span"),c.Ac(13,"Already have an account?"),c.Tb(),c.Ub(14,"button",3),c.Ac(15,"Login!"),c.Tb(),c.yc(16,y,1,0,"mat-progress-bar",4),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(10),c.lc("ngIf",e.registrationForm),c.Cb(6),c.lc("ngIf",e.isLoading))},directives:[d.a,d.d,d.h,d.e,d.g,d.c,a.k,d.b,l.a,r.b,o.o,o.j,o.e,b.c,b.b,b.d,b.a,u.b,u.f,g.b,o.b,o.i,o.d,o.m,p.a,u.g,f.a,r.c,u.e,h.a],styles:["#registration-form[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:500px;margin:50px auto;padding:25px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:10px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{width:0 auto;height:60px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:25px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin-bottom:40px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;margin:0 25%}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:10px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin:15px 0}"]}),w),pathMatch:"full"}],O=((v=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:v}),v.\u0275inj=c.Lb({factory:function(t){return new(t||v)},imports:[[r.d.forChild(_)],r.d]}),v),T=n("PCNd"),U=((M=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:M}),M.\u0275inj=c.Lb({factory:function(t){return new(t||M)},imports:[[a.c,O,T.a]]}),M)}}]);