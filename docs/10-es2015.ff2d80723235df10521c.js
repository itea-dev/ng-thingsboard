(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{l8iX:function(t,a,r){"use strict";r.r(a),r.d(a,"RegistrationModule",(function(){return v}));var n=r("ofXK"),e=r("tyNb"),o=r("3Pt+");class i{static passwordMatchValidator(t){t.get("password").value!==t.get("confirmPassword").value&&t.get("confirmPassword").setErrors({NoPassswordMatch:!0})}static privacyPolicyCheckedValidator(t){return void 0!==t.value&&!1===t.value?{PrivacyPolicyNotAccepted:!0}:null}}var c=r("fXoL"),s=r("RL7/"),m=r("dNgK"),d=r("Wp6s"),b=r("bTqV"),l=r("XiUz"),g=r("kmnG"),p=r("qFsG"),u=r("NFeN"),f=r("bSwM"),h=r("bv9b");function P(t,a){1&t&&(c.Ub(0,"mat-hint"),c.Ac(1,"Passwords don't match"),c.Tb())}function C(t,a){if(1&t){const t=c.Vb();c.Ub(0,"form",5),c.cc("ngSubmit",(function(){return c.sc(t),c.gc().register()})),c.Ub(1,"div",6),c.Ub(2,"div",7),c.Ub(3,"mat-form-field",8),c.Ub(4,"mat-label"),c.Ac(5,"First name"),c.Tb(),c.Pb(6,"input",9),c.Tb(),c.Tb(),c.Ub(7,"div",7),c.Ub(8,"mat-form-field",8),c.Ub(9,"mat-label"),c.Ac(10,"Last name"),c.Tb(),c.Pb(11,"input",10),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"mat-form-field",8),c.Ub(13,"mat-label"),c.Ac(14,"Email"),c.Tb(),c.Ub(15,"mat-icon",11),c.Ac(16,"mail"),c.Tb(),c.Pb(17,"input",12),c.Tb(),c.Ub(18,"mat-form-field",8),c.Ub(19,"mat-label"),c.Ac(20,"Password"),c.Tb(),c.Ub(21,"mat-icon",11),c.Ac(22,"lock"),c.Tb(),c.Pb(23,"input",13),c.Tb(),c.Ub(24,"mat-form-field",8),c.Ub(25,"mat-label"),c.Ac(26,"Repeat password"),c.Tb(),c.Ub(27,"mat-icon",11),c.Ac(28,"lock"),c.Tb(),c.Pb(29,"input",14),c.yc(30,P,2,0,"mat-hint",15),c.Tb(),c.Ub(31,"div",16),c.Ub(32,"mat-checkbox",17),c.Ac(33," Accept "),c.Ub(34,"a",18),c.Ac(35,"Privacy Policy"),c.Tb(),c.Tb(),c.Tb(),c.Ub(36,"button",19),c.Ac(37,"Sign up"),c.Tb(),c.Tb()}if(2&t){const t=c.gc();c.lc("formGroup",t.registrationForm),c.Cb(30),c.lc("ngIf",t.passwordMatch),c.Cb(6),c.lc("disabled",!t.registrationForm.valid)}}function M(t,a){1&t&&c.Pb(0,"mat-progress-bar",20)}const w=[{path:"",component:(()=>{class t{constructor(t,a,r,n){this.formBuilder=t,this.authService=a,this.router=r,this.matSnackBar=n,this.hidePassword=!0,this.isLoading=!1}ngOnInit(){this.registrationForm=this.createForm()}createForm(){return this.registrationForm=this.formBuilder.group({firstName:["",o.n.compose([o.n.required,o.n.minLength(4)])],lastName:["",o.n.compose([o.n.required,o.n.minLength(4)])],email:["",o.n.compose([o.n.required,o.n.email])],password:["",o.n.compose([o.n.required,o.n.minLength(6)])],confirmPassword:["",o.n.compose([o.n.required,o.n.minLength(6)])],recaptchaResponse:["ToDo",o.n.compose([o.n.required])],acceptPrivacyPolicy:["",o.n.compose([o.n.required,i.privacyPolicyCheckedValidator])]},{validator:i.passwordMatchValidator})}get passwordMatch(){if(this.registrationForm.get("confirmPassword").errors)return this.registrationForm.get("confirmPassword").errors.NoPassswordMatch}register(){this.isLoading=!0;const t=Object.assign({},this.registrationForm.value);this.authService.register({firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,recaptchaResponse:t.recaptchaResponse}).then(()=>{this.authService.login({username:t.email,password:t.password}).then(()=>{this.isLoading=!1,this.router.navigateByUrl("/home")}).catch(t=>{this.isLoading=!1,this.matSnackBar.open(t.message,"Close",{duration:1e4,horizontalPosition:"end",verticalPosition:"top"})})}).catch(t=>{this.isLoading=!1,this.matSnackBar.open(t.message,"Close",{duration:1e4,horizontalPosition:"end",verticalPosition:"top"})})}}return t.\u0275fac=function(a){return new(a||t)(c.Ob(o.c),c.Ob(s.a),c.Ob(e.a),c.Ob(m.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-registration"]],decls:17,vars:2,consts:[["id","registration-form"],["mat-card-image","","src","/assets/thingsboard-logo.svg","alt","Logo"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-raised-button","","routerLink","/login"],["color","primary","mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","10px"],["fxFlex","50%"],["appearance","outline"],["matInput","","formControlName","firstName","placeholder","Enter your first name","name","firstName","required",""],["matInput","","formControlName","lastName","placeholder","Enter your last name","name","lastName","required",""],["matPrefix",""],["matInput","","formControlName","email","placeholder","Enter your email","name","username","required",""],["matInput","","formControlName","password","placeholder","Create a password","type","password","name","password","required",""],["matInput","","formControlName","confirmPassword","placeholder","Repeat your password","type","password","name","password","required",""],[4,"ngIf"],[1,"mat-checkbox"],["formControlName","acceptPrivacyPolicy"],["routerLink","/privacy-policy"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["color","primary","mode","indeterminate"]],template:function(t,a){1&t&&(c.Ub(0,"section",0),c.Ub(1,"mat-card"),c.Ub(2,"mat-card-header"),c.Ub(3,"mat-card-title"),c.Pb(4,"img",1),c.Tb(),c.Ub(5,"mat-card-subtitle"),c.Ac(6," Create your personal account on the live demo server."),c.Pb(7,"br"),c.Ac(8," It is totally free! "),c.Tb(),c.Tb(),c.Ub(9,"mat-card-content"),c.yc(10,C,38,3,"form",2),c.Tb(),c.Ub(11,"mat-card-actions"),c.Ub(12,"span"),c.Ac(13,"Already have an account?"),c.Tb(),c.Ub(14,"button",3),c.Ac(15,"Login!"),c.Tb(),c.yc(16,M,1,0,"mat-progress-bar",4),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(10),c.lc("ngIf",a.registrationForm),c.Cb(6),c.lc("ngIf",a.isLoading))},directives:[d.a,d.d,d.h,d.e,d.g,d.c,n.k,d.b,b.a,e.b,o.o,o.j,o.e,l.c,l.b,l.d,l.a,g.b,g.f,p.b,o.b,o.i,o.d,o.m,u.a,g.g,f.a,e.c,g.e,h.a],styles:["#registration-form[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:500px;margin:50px auto;padding:25px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:10px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{width:0 auto;height:60px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:25px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin-bottom:40px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;margin:0 25%}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{text-align:center;margin-top:10px}#registration-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin:15px 0}"]}),t})(),pathMatch:"full"}];let y=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(a){return new(a||t)},imports:[[e.d.forChild(w)],e.d]}),t})();var O=r("PCNd");let v=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(a){return new(a||t)},imports:[[n.c,y,O.a]]}),t})()}}]);